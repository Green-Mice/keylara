{erl_opts, [
    debug_info,
    nowarn_record_types
]}.

{deps, [
    {alara, "0.1.2"}
]}.

{shell, [
    {apps, [keylara]}
]}.

{profiles, [
    {test, [
        {deps, [
            {proper, "1.4.0"},
            {eunit_formatters, "0.5.0"}
        ]},
        {erl_opts, [
            debug_info,
            {d, 'TEST'}
        ]}
    ]},
    {prod, [
        {erl_opts, [
            no_debug_info,
            warnings_as_errors
        ]}
    ]}
]}.

{cover_enabled, true}.
{cover_opts, [verbose]}.

{dialyzer, [
    {warnings, [
        unmatched_returns,
        error_handling,
        race_conditions,
        underspecs
    ]}
]}.

{xref_checks, [
    undefined_function_calls,
    undefined_functions,
    locals_not_used,
    deprecated_function_calls
]}.

{alias, [
    {check, [xref, dialyzer, edoc,
             {proper, "-c"}, {cover, "-v --min_coverage=80"}]}
]}.

{hex, [
    {name, <<"keylara">>},
    {version, "1.2.0"},
    {description, "Keylara is a library for secure distributed key management using Alara entropy."},
    {licenses, ["Apache-2.0"]},
    {links, #{
        <<"GitHub">> => "https://github.com/roquess/keylara"
    }},
    {maintainers, ["roquess"]},
    {build_tools, ["rebar3"]},
    {files, [
        "src", "include", "rebar.config", "README.md", "LICENSE", "CHANGELOG.md"
    ]},
    {doc, #{
        provider => ex_doc,
        extras => [
            "README.md",
            "CHANGELOG.md"
        ],
        main => "readme",
        source_url => "https://github.com/roquess/keylara"
    }}
]}.

{project_plugins, [
    {rebar3_ex_doc, "0.2.30"},
    {rebar3_hex, "7.0.2"}
]}.

